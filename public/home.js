!function(){let e=document.getElementById("download"),t=document.getElementById("download_url"),n=document.getElementById("errorMessage"),o=document.getElementById("fileName"),i=document.getElementById("saveOptions"),d=document.getElementById("tooltip"),l=!0;async function a(){let e=o.value,n=i.value,d=t.value,l=`${new URL(window.location.href).origin}/download?URL=${d}&fileName=${e}&fileFormat=${n}`;if(e&&d&&d&&("click"===event.type||"keydown"===event.type&&13===event.keycode)){window.location.href=l;const e=await fetch(l);if(400===e.status){const t=await e.json();console.log("An error occured",t)}}}function s(){n&&(window.location.href=new URL(window.location.href).origin+"/")}function r(){l=!0,e.classList.remove("downloadFileEnabled"),e.removeEventListener("click",a),e.removeEventListener("keydown",a),o.value&&t.value&&(e.classList.add("downloadFileEnabled"),e.addEventListener("click",a),e.addEventListener("keydown",a),l=!1)}function v(t,n){let o=t.getBoundingClientRect(),i=o.y-50+"px",a=o.x+"px";n.length>100&&(i=o.y-100+"px"),d.style.top=i,d.style.left=a,d.innerText=n,d.style.visibility="visible",l||t!==e||(d.style.visibility="hidden")}function u(){d.style.visibility="hidden"}o.addEventListener("focus",s),t.addEventListener("focus",s),o.addEventListener("keyup",r),t.addEventListener("keyup",r),o.addEventListener("mouseover",()=>v(o,"Please enter file name to download")),i.addEventListener("mouseover",()=>v(i,"please select video qualit, if selected quality is not available then higgest available quality vedio will be downloaded")),t.addEventListener("mouseover",()=>v(t,"please enter vedio url ")),e.addEventListener("mouseover",()=>v(e,"Enter above detail")),o.addEventListener("mouseout",()=>u()),i.addEventListener("mouseout",()=>u()),t.addEventListener("mouseout",()=>u()),e.addEventListener("mouseout",()=>u()),function(){if(n){let e=window.location.href.split("="),t=decodeURIComponent(e[1]),o=document.createElement("div");o.innerText=`Error Message from server is :-"${t}"`,n.appendChild(o)}}()}();